{% extends 'base.html' %}

{% block content %}

{% if user.is_authenticated %}

<table class="table table-striped table-hover table-bordered">
  <thead class="table-dark">
    <tr>
      <th scope="col">Nombre</th>
      <th scope="col">Email</th>
      <th scope="col">Celular</th>
      <th scope="col">Dirección</th>
      <th scope="col">Ciudad</th>
      <th scope="col">País</th>
      <th scope="col">Fecha de registro</th>
      <th scope="col">ID</th>
    </tr>
  </thead>
  <tbody>
    {% if customers %}
      {% for customer in customers %}
        <tr>
          <td>{{ customer.first_name }} {{ customer.last_name }}</td>
          <td>{{ customer.email }}</td>
          <td>{{ customer.phone }}</td>
          <td>{{ customer.address }}</td>
          <td>{{ customer.city }}</td>
          <td>{{ customer.country }}</td>
          <td>{{ customer.created_at }}</td>
          <td><a href="{% url 'customer' customer.id %}">{{ customer.id }}</a></td>
        </tr>
      {% endfor %}
    {% else %}
      <tr>
        <td colspan="8">No hay clientes disponibles</td>
      </tr>
    {% endif %}
  </tbody>
</table>

{% else %}

<h1>Iniciar sesión</h1>
<form method="POST" action="{% url 'home' %}">
  {% csrf_token %}
  
  <div class="mb-3">
    <input type="text" class="form-control" name="username" placeholder="Username" required>
  </div>

  <div class="mb-3">
    <input type="password" class="form-control" name="password" placeholder="Password" required>
  </div>

  <div>
    <button type="submit" class="btn btn-secondary">Iniciar sesión</button>
  </div>
</form>

{% endif %}

{% endblock %}
